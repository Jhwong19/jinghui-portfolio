@import 'libs/vars';
@import 'libs/functions';
@import 'libs/mixins';
@import 'libs/vendor';
@import 'libs/breakpoints';
@import 'libs/html-grid';
@import 'libs/fixed-grid';
@import 'fontawesome-all.min.css';
@import url('https://fonts.googleapis.com/css?family=Merriweather:300,700,300italic,700italic|Source+Sans+Pro:900');

/*
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
*/

// Breakpoints.

	@include breakpoints((
		default:   (1681px,   null     ),
		xlarge:    (1281px,   1680px   ),
		large:     (981px,    1280px   ),
		medium:    (737px,    980px    ),
		small:     (481px,    736px    ),
		xsmall:    (361px,    480px    ),
		xxsmall:   (null,     360px    )
	));

// Mixins.

	@mixin color($p) {
		@include color-typography($p);
		@include color-box($p);
		@include color-button($p);
		@include color-form($p);
		@include color-list($p);
		@include color-section($p);
		@include color-table($p);
		@include color-pagination($p);
	}

// Base.

	@import 'base/reset';
	@import 'base/page';
	@import 'base/typography';

// Component.

	@import 'components/row';
	@import 'components/box';
	@import 'components/button';
	@import 'components/form';
	@import 'components/icon';
	@import 'components/image';
	@import 'components/actions';
	@import 'components/icons';
	@import 'components/list';
	@import 'components/section';
	@import 'components/table';
	@import 'components/pagination';

// Layout.

	@import 'layout/wrapper';
	@import 'layout/intro';
	@import 'layout/header';
	@import 'layout/nav';
	@import 'layout/main';
	@import 'layout/footer';
	@import 'layout/navPanel';

/* Responsive math / code tweaks: ensure wide formulas and pre blocks are visible on small screens */

// Allow horizontal scrolling for wide math and code blocks (touch-friendly)
.post .objective-intuition,
.post .objective-intuition pre,
.MathJax_Display,
.mjx-chtml,
.MathJax,
pre {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  max-width: 100%;
  box-sizing: border-box;
}

// Prevent MathJax from overflowing its container
.MathJax_Display, .mjx-chtml, .MathJax {
  max-width: 100%;
  box-sizing: border-box;
}

// Wrap long inline text/math where possible
.post p {
  overflow-wrap: anywhere;
  word-break: break-word;
}

// Math block wrapper to prevent clipping on mobile
.math-wrap {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  max-width: 100%;
  padding: 0.5rem 0; /* slight breathing room */
}

// Ensure inner MathJax spans do not exceed container
.math-wrap .MathJax_Display,
.math-wrap .mjx-chtml {
  max-width: 100%;
}

// MathJax v3 container fallback to ensure no clipping on mobile (CHTML/SVG)
mjx-container {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  max-width: 100%;
  box-sizing: border-box;
}

mjx-container[display="true"] {
  display: block; /* ensure block-level for display math */
}

// Make displayed math slightly smaller on very small screens
@media screen and (max-width: 736px) {
  .MathJax_Display, .mjx-chtml {
    font-size: 0.95em;
  }
  pre {
    white-space: pre-wrap; /* allow wrapped pre blocks */
  }
  .math-wrap .MathJax_Display,
  .math-wrap .mjx-chtml {
    font-size: 0.9em; /* further reduce for narrow phones */
  }
  mjx-container[display="true"] { font-size: 0.95em; }
}